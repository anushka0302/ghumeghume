{"version":3,"file":"static/js/14.a7516901.chunk.js","mappings":"8HACO,MAAMA,EAAW,S,qJCSxB,MAuGA,EAvGcC,KACZ,MAAOC,EAAaC,IAAkBC,EAAAA,EAAAA,UAAS,CAC7CC,MAAO,GACPC,SAAU,MAGLC,EAASC,IAAcJ,EAAAA,EAAAA,WAAS,IAEjC,SAAEK,IAAaC,EAAAA,EAAAA,YAAWC,EAAAA,GAC1BC,GAAWC,EAAAA,EAAAA,MACbC,GAAWC,EAAAA,EAAAA,MACTC,EAAgBC,IACpBd,EAAgBe,IAAIC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAWD,GAAI,IAAE,CAACD,EAAEG,OAAOC,IAAKJ,EAAEG,OAAOE,UAqC/D,OAHFC,EAAAA,EAAAA,WAAU,KACNC,OAAOC,SAAS,EAAG,IAClB,KAGDC,EAAAA,EAAAA,KAAA,WAASC,UAAU,eAAcC,UAC/BF,EAAAA,EAAAA,KAACG,EAAAA,GAAS,CAAAD,UACRF,EAAAA,EAAAA,KAACI,EAAAA,GAAG,CAAAF,UACFF,EAAAA,EAAAA,KAACK,EAAAA,GAAG,CAACC,GAAG,IAAIL,UAAU,SAAQC,UAE5BK,EAAAA,EAAAA,MAAA,OAAKN,UAAU,kBAAiBC,SAAA,EAC9BF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,kBACJF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,iBAAgBC,SAAC,wCAI9BK,EAAAA,EAAAA,MAACC,EAAAA,GAAI,CAACC,SA/CEC,UAClBnB,EAAEoB,iBACF7B,GAAW,GACXC,EAAS,CAAE6B,KAAM,gBAEjB,IAAK,IAADC,EACF,MAAMC,QAAYC,MAAM,GAADC,OAAI1C,EAAAA,EAAQ,eAAe,CAChD2C,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElB1C,YAAa,UACb2C,KAAMC,KAAKC,UAAU7C,KAGjB8C,QAAeR,EAAIS,OACzB,IAAKT,EAAIU,GAGP,OAFAC,MAAMH,EAAOI,cACb5C,GAAW,GAIbC,EAAS,CAAE6B,KAAM,gBAAiBe,QAASL,EAAOM,OAElD,MAAMC,GAA6B,QAAdhB,EAAAzB,EAAS0C,aAAK,IAAAjB,OAAA,EAAdA,EAAgBkB,OAAQ,IAC7C7C,EAAS2C,EACX,CAAE,MAAOG,GACPjD,EAAS,CAAE6B,KAAM,gBAAiBe,QAASK,EAAIN,SACjD,CACA5C,GAAW,IAkB2BoB,SAAA,EAE1BK,EAAAA,EAAAA,MAAC0B,EAAAA,GAAS,CAAChC,UAAU,cAAaC,SAAA,EAChCF,EAAAA,EAAAA,KAACkC,EAAAA,IAAU,CAACjC,UAAU,gBACtBD,EAAAA,EAAAA,KAAA,SACEY,KAAK,QACLuB,YAAY,gBACZC,UAAQ,EACRzC,GAAG,QACH0C,SAAU/C,QAKdiB,EAAAA,EAAAA,MAAC0B,EAAAA,GAAS,CAAChC,UAAU,cAAaC,SAAA,EAChCF,EAAAA,EAAAA,KAACsC,EAAAA,IAAM,CAACrC,UAAU,gBAClBD,EAAAA,EAAAA,KAAA,SACEY,KAAK,WACLuB,YAAY,WACZC,UAAQ,EACRzC,GAAG,WACH0C,SAAU/C,QAIdU,EAAAA,EAAAA,KAACuC,EAAAA,GAAM,CAACtC,UAAU,WAAWW,KAAK,SAAS4B,SAAU3D,EAAQqB,SAC1DrB,GAAUmB,EAAAA,EAAAA,KAACyC,EAAAA,GAAO,CAACC,KAAK,OAAU,cAIvCnC,EAAAA,EAAAA,MAAA,KAAGN,UAAU,cAAaC,SAAA,CAAC,2BACFF,EAAAA,EAAAA,KAAC2C,EAAAA,GAAI,CAACC,GAAG,YAAW1C,SAAC,6B","sources":["utils/config.js","pages/Login.jsx"],"sourcesContent":["//export const BASE_URL = 'http://localhost:8000/api/v1';\nexport const BASE_URL = '/api/v1';\n\n","import React, { useState, useContext,useEffect } from \"react\";\nimport { Container, Row, Col, Form, FormGroup, Button, Spinner } from \"reactstrap\";\nimport { Link, useNavigate, useLocation } from \"react-router-dom\";\nimport \"../styles/login.css\"; // We will replace this CSS\nimport { AuthContext } from \"../context/AuthContext\";\nimport { BASE_URL } from \"../utils/config\";\n\n// NEW: Import icons for the form\nimport { BsEnvelope, BsLock } from \"react-icons/bs\";\n\nconst Login = () => {\n  const [credentials, setCredentials] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  const [loading, setLoading] = useState(false);\n\n  const { dispatch } = useContext(AuthContext);\n  const navigate = useNavigate();\nconst location = useLocation();\n  const handleChange = (e) => {\n    setCredentials((prev) => ({ ...prev, [e.target.id]: e.target.value }));\n  };\n\n  const handleClick = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    dispatch({ type: \"LOGIN_START\" });\n\n    try {\n      const res = await fetch(`${BASE_URL}/auth/login`, {\n        method: \"post\",\n        headers: {\n          \"content-type\": \"application/json\",\n        },\n        credentials: \"include\",\n        body: JSON.stringify(credentials),\n      });\n\n      const result = await res.json();\n      if (!res.ok) {\n        alert(result.message);\n        setLoading(false);\n        return;\n      }\n\n      dispatch({ type: \"LOGIN_SUCCESS\", payload: result.data });\n      //navigate(\"/\");\n      const redirectPath = location.state?.from || \"/\";\n      navigate(redirectPath);\n    } catch (err) {\n      dispatch({ type: \"LOGIN_FAILURE\", payload: err.message });\n    }\n    setLoading(false);\n  };\nuseEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n  return (\n    // The section now covers the whole page\n    <section className=\"auth-section\">\n      <Container>\n        <Row>\n          <Col lg=\"6\" className=\"m-auto\">\n            {/* This is the new \"glass\" card */}\n            <div className=\"login-container\">\n              <h1>Welcome Back</h1>\n              <p className=\"login-subtitle\">\n                Login to explore the world with us\n              </p>\n\n              <Form onSubmit={handleClick}>\n                {/* New input group with icon */}\n                <FormGroup className=\"input-group\">\n                  <BsEnvelope className=\"input-icon\" />\n                  <input\n                    type=\"email\"\n                    placeholder=\"Email Address\"\n                    required\n                    id=\"email\"\n                    onChange={handleChange}\n                  />\n                </FormGroup>\n\n                {/* New input group with icon */}\n                <FormGroup className=\"input-group\">\n                  <BsLock className=\"input-icon\" />\n                  <input\n                    type=\"password\"\n                    placeholder=\"Password\"\n                    required\n                    id=\"password\"\n                    onChange={handleChange}\n                  />\n                </FormGroup>\n\n                <Button className=\"auth-btn\" type=\"submit\" disabled={loading}>\n                  {loading ? <Spinner size=\"sm\" /> : \"Login\"}\n                </Button>\n              </Form>\n\n              <p className=\"auth-switch\">\n                Don't have an account? <Link to=\"/register\">Create one</Link>\n              </p>\n            </div>\n          </Col>\n        </Row>\n      </Container>\n    </section>\n  );\n};\n\nexport default Login;"],"names":["BASE_URL","Login","credentials","setCredentials","useState","email","password","loading","setLoading","dispatch","useContext","AuthContext","navigate","useNavigate","location","useLocation","handleChange","e","prev","_objectSpread","target","id","value","useEffect","window","scrollTo","_jsx","className","children","Container","Row","Col","lg","_jsxs","Form","onSubmit","async","preventDefault","type","_location$state","res","fetch","concat","method","headers","body","JSON","stringify","result","json","ok","alert","message","payload","data","redirectPath","state","from","err","FormGroup","BsEnvelope","placeholder","required","onChange","BsLock","Button","disabled","Spinner","size","Link","to"],"sourceRoot":""}