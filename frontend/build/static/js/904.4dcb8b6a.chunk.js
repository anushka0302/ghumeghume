"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[904],{344:(e,s,t)=>{t.d(s,{Ay:()=>c});const n={_origin:"https://api.emailjs.com"},r=(e,s,t)=>{if(!e)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!s)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class a{constructor(e){this.status=e.status,this.text=e.responseText}}const i=function(e,s){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((r,i)=>{const c=new XMLHttpRequest;c.addEventListener("load",e=>{let{target:s}=e;const t=new a(s);200===t.status||"OK"===t.text?r(t):i(t)}),c.addEventListener("error",e=>{let{target:s}=e;i(new a(s))}),c.open("POST",n._origin+e,!0),Object.keys(t).forEach(e=>{c.setRequestHeader(e,t[e])}),c.send(s)})},c={init:function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://api.emailjs.com";n._userID=e,n._origin=s},send:(e,s,t,a)=>{const c=a||n._userID;r(c,e,s);const l={lib_version:"3.2.0",user_id:c,service_id:e,template_id:s,template_params:t};return i("/api/v1.0/email/send",JSON.stringify(l),{"Content-type":"application/json"})},sendForm:(e,s,t,a)=>{const c=a||n._userID,l=(e=>{let s;if(s="string"===typeof e?document.querySelector(e):e,!s||"FORM"!==s.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return s})(t);r(c,e,s);const o=new FormData(l);return o.append("lib_version","3.2.0"),o.append("service_id",e),o.append("template_id",s),o.append("user_id",c),i("/api/v1.0/email/send-form",o)}}},1435:(e,s,t)=>{t.d(s,{A:()=>n});const n=e=>{const s=null===e||void 0===e?void 0:e.reduce((e,s)=>e+s.rating,0);return{totalRating:s,avgRating:0===s?"":1===s?s:(s/(null===e||void 0===e?void 0:e.length)).toFixed(1)}}},2462:(e,s,t)=>{t.d(s,{A:()=>a});t(5043);var n=t(2380),r=t(579);const a=e=>{let{title:s}=e;return(0,r.jsx)("section",{className:"common__section",children:(0,r.jsx)(n.mc,{children:(0,r.jsx)(n.fI,{children:(0,r.jsx)(n.fv,{lg:"12",children:(0,r.jsx)("h1",{children:s})})})})})}},3495:(e,s,t)=>{t.d(s,{A:()=>l});var n=t(5043),r=t(2380);const a=t.p+"static/media/male-tourist.f000d0ad1ca492b2bcfb.png";var i=t(344),c=t(579);const l=()=>{const[e,s]=(0,n.useState)(""),[t,l]=(0,n.useState)("");return(0,c.jsx)("section",{className:"newsletter",children:(0,c.jsx)(r.mc,{children:(0,c.jsxs)(r.fI,{className:"g-0 align-items-center",children:[(0,c.jsx)(r.fv,{lg:"6",children:(0,c.jsxs)("div",{className:"newsletter__content",children:[(0,c.jsx)("div",{className:"newsletter__badge",children:"Subscribe Now"}),(0,c.jsx)("h2",{children:"Unlock Exclusive Travel Tips & Hidden Gems"}),(0,c.jsx)("p",{children:"Join our community of explorers. Get the latest updates on unseen destinations, trekking guides, and special offers directly in your inbox."}),(0,c.jsxs)("form",{onSubmit:t=>{if(t.preventDefault(),!e)return void l("Please enter a valid email address.");const n={user_email:e};i.Ay.send("service_2xekge8","template_5qj7z8t",n,"ItFe68uW5tcHisaIe").then(e=>{console.log("SUCCESS!",e.status,e.text),l("Subscribed successfully! Thank you."),s("")},e=>{console.log("FAILED...",e),l("Failed to subscribe. Please try again later.")})},className:"newsletter__input",children:[(0,c.jsx)("input",{type:"email",placeholder:"Enter your email address",value:e,onChange:e=>s(e.target.value),required:!0}),(0,c.jsx)("button",{type:"submit",className:"btn newsletter__btn",children:"Subscribe"})]}),t&&(0,c.jsx)("p",{className:"newsletter__message",children:t})]})}),(0,c.jsx)(r.fv,{lg:"6",children:(0,c.jsx)("div",{className:"newsletter__img",children:(0,c.jsx)("img",{src:a,alt:"Traveler"})})})]})})})}},3574:(e,s,t)=>{t.d(s,{C:()=>n});const n="/api/v1"},4518:(e,s,t)=>{t.d(s,{A:()=>c});t(5043);var n=t(2380),r=t(5475),a=t(1435),i=t(579);const c=e=>{let{tour:s}=e;const{_id:t,title:c,city:l,photo:o,price:d,featured:u,reviews:h}=s,{totalRating:m,avgRating:p}=(0,a.A)(h);return(0,i.jsx)("div",{className:"tour__card",children:(0,i.jsxs)(n.Zp,{children:[(0,i.jsxs)("div",{className:"tour__img",children:[(0,i.jsx)("img",{src:o,alt:"tour-img"}),u&&(0,i.jsx)("span",{children:"Featured"})]}),(0,i.jsxs)(n.bw,{children:[(0,i.jsxs)("div",{className:"card__top d-flex align-items-center justify-content-between",children:[(0,i.jsxs)("span",{className:"tour__location d-flex align-items-center gap-1",children:[(0,i.jsx)("i",{class:"ri-map-pin-line"}),"   ",l]}),(0,i.jsxs)("span",{className:"tour__rating d-flex align-items-center gap-1",children:[(0,i.jsx)("i",{class:"ri-star-fill"}),"   ",0===p?null:p,0===m?"Not rated":(0,i.jsxs)("span",{children:["(",h.length,")"]})]})]}),(0,i.jsx)("h5",{className:"tour__title",children:(0,i.jsx)(r.N_,{to:"/tour/".concat(t),children:c})}),(0,i.jsxs)("div",{className:"card__bottom d-flex align-items-center justify-content-between mt-3",children:[(0,i.jsxs)("h5",{children:["\u20b9",d,(0,i.jsx)("span",{children:" /per person "})]}),(0,i.jsx)("button",{className:"btn booking__btn",children:(0,i.jsx)(r.N_,{to:"/tour/".concat(t),children:"Book Now"})})]})]})]})})}},6566:(e,s,t)=>{t.d(s,{A:()=>r});var n=t(5043);const r=e=>{const[s,t]=(0,n.useState)([]),[r,a]=(0,n.useState)(null),[i,c]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{(async()=>{c(!0);try{const s=await fetch(e);s.ok||a("Failed to fetch");const n=await s.json();t(n.data),c(!1)}catch(s){a(s.message),c(!1)}})()},[e]),{data:s,error:r,loading:i}}},8578:(e,s,t)=>{t.r(s),t.d(s,{default:()=>p});var n=t(5043),r=t(2462),a=t(4518),i=t(2380),c=t(3574),l=t(3216),o=t(579);const d=()=>{const e=(0,n.useRef)(""),s=(0,n.useRef)(0),t=(0,n.useRef)(0),r=(0,l.Zp)();return(0,o.jsx)(i.fv,{lg:"12",children:(0,o.jsx)("div",{className:"search__bar",children:(0,o.jsxs)(i.lV,{className:"d-flex align-items-center gap-4",children:[(0,o.jsx)(i.gE,{className:"d-flex gap-3 form__group form__group-fast",children:(0,o.jsxs)("span",{children:[(0,o.jsx)("i",{className:"ri-map-pin-line"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h6",{children:"Location "}),(0,o.jsx)("input",{type:"text",placeholder:"Where are you going ?",ref:e})]})]})}),(0,o.jsx)(i.gE,{className:"d-flex gap-3 form__group form__group-fast",children:(0,o.jsxs)("span",{children:[(0,o.jsx)("i",{className:"ri-map-pin-time-line"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h6",{children:"Distance "}),(0,o.jsx)("input",{type:"number",placeholder:"Distance k/m",ref:s})]})]})}),(0,o.jsx)(i.gE,{className:"d-flex gap-3 form__group form__group-last",children:(0,o.jsxs)("span",{children:[(0,o.jsx)("i",{className:"ri-group-line"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h6",{children:"Max People "}),(0,o.jsx)("input",{type:"number",placeholder:"0",ref:t})]})]})}),(0,o.jsx)("span",{className:"search__icon",type:"submit",onClick:async()=>{const n=e.current.value,a=s.current.value,i=t.current.value;if(""===n||""===a||""===i)return alert("All fields are required !");const l=await fetch("".concat(c.C,"/tours/search/getTourbySearch?city=").concat(n,"&distance=").concat(a,"&maxGroupSize=").concat(i));l.ok||alert("Something went wrong.");const o=await l.json();r("/tours/search?city=".concat(n,"&distance=").concat(a,"&maxGroupSize=").concat(i),{state:o.data})},children:(0,o.jsx)("i",{className:"ri-search-line"})})]})})})};var u=t(3495);const h=e=>{let{message:s}=e;const t=(0,l.Zp)();return(0,o.jsx)("div",{className:"popup-background",children:(0,o.jsxs)("div",{className:"popup-container",children:[(0,o.jsx)("p",{children:s}),(0,o.jsx)("button",{onClick:()=>t("/login"),children:"Log In"}),(0,o.jsx)("button",{onClick:()=>t("/register"),children:"Register"})]})})};var m=t(6566);const p=()=>{const[e,s]=(0,n.useState)(0),[t,l]=(0,n.useState)(0),[p,x]=(0,n.useState)(!1),[j,g]=(0,n.useState)(!1),{data:f,loading:_,error:v}=(0,m.A)("".concat(c.C,"/tours?page=").concat(t)),{data:b}=(0,m.A)("".concat(c.C,"/tours/search/getTourCount"));return(0,n.useEffect)(()=>{const e=Math.ceil(b/8);s(e),window.scrollTo(0,0);(()=>{const e=!0;x(e)})()},[t,b,f]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.A,{title:"All Tours"}),(0,o.jsx)("section",{children:(0,o.jsx)(i.mc,{children:(0,o.jsx)(i.fI,{children:(0,o.jsx)(d,{})})})}),p?(0,o.jsx)("section",{className:"pt-0",children:(0,o.jsxs)(i.mc,{children:[_&&(0,o.jsx)("h4",{className:"text-center pt-5",children:"Loading..."}),v&&(0,o.jsx)("h4",{className:"text-center pt-5",children:v}),!_&&!v&&(0,o.jsxs)(i.fI,{children:[null===f||void 0===f?void 0:f.map(e=>(0,o.jsx)(i.fv,{lg:"3",md:"6",sm:"6",className:"mb-4",children:(0,o.jsx)(a.A,{tour:e})},e._id)),(0,o.jsx)(i.fv,{lg:"12",children:(0,o.jsx)("div",{className:"pagination d-flex align-items-center justify-content-center mt-4 gap-3",children:[...Array(e).keys()].map(e=>(0,o.jsx)("span",{onClick:()=>l(e),className:t===e?"active__page":"",children:e+1},e))})})]})]})}):(0,o.jsx)(h,{isOpen:j,closePopup:()=>g(!1),children:(0,o.jsx)("p",{children:"Please log in to view tours."})}),(0,o.jsx)(u.A,{})]})}}}]);
//# sourceMappingURL=904.4dcb8b6a.chunk.js.map